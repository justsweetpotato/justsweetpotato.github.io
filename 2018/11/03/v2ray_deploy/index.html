<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="技术,">










<meta name="description" content="PS: 本教程已过时, 请移步 https://github.com/justsweetpotato/V2Ray_Tutorial">
<meta name="keywords" content="技术">
<meta property="og:type" content="article">
<meta property="og:title" content="V2Ray 简易搭建教程">
<meta property="og:url" content="http://justsweetpotato.github.io/2018/11/03/v2ray_deploy/index.html">
<meta property="og:site_name" content="Potato&#39;s Blog">
<meta property="og:description" content="PS: 本教程已过时, 请移步 https://github.com/justsweetpotato/V2Ray_Tutorial">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://raw.githubusercontent.com/justsweetpotato/markdown-img-store/master/v2ray/v2rayn.png">
<meta property="og:updated_time" content="2019-10-02T10:00:04.228Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="V2Ray 简易搭建教程">
<meta name="twitter:description" content="PS: 本教程已过时, 请移步 https://github.com/justsweetpotato/V2Ray_Tutorial">
<meta name="twitter:image" content="https://raw.githubusercontent.com/justsweetpotato/markdown-img-store/master/v2ray/v2rayn.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://justsweetpotato.github.io/2018/11/03/v2ray_deploy/">





  <title>V2Ray 简易搭建教程 | Potato's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Potato's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">我们生来独自一人, 最后也是.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://justsweetpotato.github.io/2018/11/03/v2ray_deploy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jake Wu">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Potato's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">V2Ray 简易搭建教程</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-03T20:57:37+08:00">
                2018-11-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>PS: 本教程已过时, 请移步 <a href="https://github.com/justsweetpotato/V2Ray_Tutorial" target="_blank" rel="noopener">https://github.com/justsweetpotato/V2Ray_Tutorial</a></p>
<a id="more"></a>

<i>
"Doesn't matter what you did, or what you were. If you go out there, you fight, and you fight to kill. Stay in here, you're good. I'll send your brother to come find you. But if you step out that door, you are an Avenger."    -Hawkeye
</i>

<br>

<p>本教程基于 V2ray 官方教程, 力求做到最通俗易懂.</p>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>首先, 你需要下载安装 V2Ray, 这里有官方安装脚本一键安装, 建议 Debian 9.x 以上以及 Ubuntu 16.04 以上的系统.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bash &lt;(curl -L -s https://install.direct/go.sh)</span><br></pre></td></tr></table></figure>

<p>如果提示没有 curl, 请使用 apt install curl 命令安装.</p>
<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>配置文件位于 /etc/v2ray/config.json 目录下, 这里我们先不修改配置, 有一个自动生成 V2Ray 服务器配置参数的工具, 可以快速帮助我们生成想要的配置参数, 然后直接复制进我们的服务器设置中就可以了.</p>
<p>点击 <a href="https://intmainreturn0.com/v2ray-config-gen/#" target="_blank" rel="noopener"><span style="color: #ff0000;">这里</span></a> 打开生成器. 选择你需要的参数后, 复制中间部分生成的参数, 使用 vi 编辑器编辑我们服务器的 config.json 文件, 复制进去.</p>
<p>PS: 请勿关闭生成器页面, 等下还要复制到客户端里面.</p>
<p>KCP 模式可以应对运营商 QoS 限速, 如果你所在的地区线路被限速, 推荐使用这种模式. *可以直接配置多个端口使用.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi /etc/v2ray/config.json</span><br></pre></td></tr></table></figure>

<p>vi 编辑器的用法不做过多科普, 打开配置文件后, 按一下键盘上的 i 进入编辑模式, 复制进刚刚生成的配置参数, 按一下 Esc 进入交互模式, 接着按住 Shift + z + z (按住 shift 按两下z), 注意不要切换到输入法, 即可保存退出, 可以使用 cat /etc/v2ray/config.json 命令来检查输入的是否正确.</p>
<h4 id="运行服务端"><a href="#运行服务端" class="headerlink" title="运行服务端"></a>运行服务端</h4><p>修改完配置文件后, 我们需要重启 v2Ray 服务器, 在控制台输入如下命令.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl restart v2ray</span><br></pre></td></tr></table></figure>

<p>Ubuntu 下使用 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ service v2ray restart</span><br></pre></td></tr></table></figure>

<p>即可重启服务, 下面是你可能需要用到的终端命令.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl status v2ray        # 查看运行状态</span><br><span class="line"></span><br><span class="line">$ sudo systemctl stop v2ray          # 停止运行</span><br><span class="line"></span><br><span class="line">$ sudo systemctl start v2ray         # 启动服务</span><br></pre></td></tr></table></figure>

<p>目前服务端就已经成功配置完毕并且启动啦.</p>
<h4 id="运行客户端"><a href="#运行客户端" class="headerlink" title="运行客户端"></a>运行客户端</h4><p>Windows 客户端需要用到 v2rayN, 这是一款可视化的 V2Ray 客户端, 使用它, 连接服务器, 配置客户端都会变得十分容易(Mac 客户端见下方). </p>
<p>点击 <span style="color: #ff0000;"><a style="color: #ff0000;" href="https://github.com/2dust/v2rayN/releases" target="_blank" rel="noopener">这里</a></span> 下载名为 v2rayN.zip 的文件, 目前版本是 2.17. </p>
<p>接下来我们还需要下载 v2ray-core, 需要它 v2rayN 客户端才能运行, 点击 <a href="https://github.com/v2ray/v2ray-core/releases" target="_blank" rel="noopener"><span style="color: #ff0000;">这里</span></a> 下载对应你操作系统的压缩包. 之后我们需要把这两个文件解压, 解压出来的文件放在同一个文件夹下, 如图所示.</p>
<p><img src="https://raw.githubusercontent.com/justsweetpotato/markdown-img-store/master/v2ray/v2rayn.png" alt="V2RayN"></p>
<p>然后双击 v2rayN.exe 运行客户端, 点击左上角的 服务器 - 添加[VMess]服务器 填入你刚刚配置的参数, 点击确定. 随后在右下角的小图标上 右键点击 - 启用Http代理, 服务器选择刚刚配置进去的服务器, Http代理模式 根据你自己的需要选择.</p>
<p>到此为止就已经配置完毕了, 你可能还需要给你的浏览器, 或者应用单独设置代理, 需要把代理模式设置为 socks5, 地址为 127.0.0.1, 端口为 V2rayN 设置中的 参数设置 - 本地监听端口.</p>
<p>Mac 客户端需要用到 V2RayX, 下载后可以直接配置使用, 点击 <a style="color: #ff0000;" href="https://github.com/Cenmrev/V2RayX/releases" target="_blank" rel="noopener">这里</a> 下载. core 如需更新参见项目文档.</p>
<p>iOS 客户端推荐 Shadowrocket(暂时不支持 KCP), 或者 i2Ray(支持 KCP), 使用 [非国区] iTunes 账号均可下载.</p>
<p>现在, 享受自由的互联网吧.</p>
<p>你现在是复仇者了.</p>
<h4 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h4><p>在 CentOS6 上脚本安装提示 “Install daemon fail, please install it manually”, 原因是不支持 CentOS6, 解决方法见  <a href="https://www.feiqy.com/v2ray/" target="_blank" rel="noopener">https://www.feiqy.com/v2ray/</a></p>
<p>参考资料:</p>
<ol>
<li><a href="https://www.v2ray.com/" target="_blank" rel="noopener">https://www.v2ray.com/</a></li>
<li><a href="https://toutyrater.github.io/" target="_blank" rel="noopener">https://toutyrater.github.io/</a></li>
<li><a href="https://www.youtube.com/watch?v=-z06k0654Wg" target="_blank" rel="noopener">https://www.youtube.com/watch?v=-z06k0654Wg</a></li>
<li><a href="https://www.youtube.com/watch?v=4yqTvFZJTuI&amp;t=1s" target="_blank" rel="noopener">https://www.youtube.com/watch?v=4yqTvFZJTuI&amp;t=1s</a></li>
</ol>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/技术/" rel="tag"># 技术</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/11/23/you2php_in_heroku/" rel="prev" title="Heroku 免费搭建 YouTube 镜像网站">
                Heroku 免费搭建 YouTube 镜像网站 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
      <div id="gitalk-container">
      </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Jake Wu</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#安装"><span class="nav-number">1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置"><span class="nav-number">2.</span> <span class="nav-text">配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#运行服务端"><span class="nav-number">3.</span> <span class="nav-text">运行服务端</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#运行客户端"><span class="nav-number">4.</span> <span class="nav-text">运行客户端</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#常见问题"><span class="nav-number">5.</span> <span class="nav-text">常见问题</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jake Wu</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  













  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">

  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

   <script type="text/javascript">
        var gitalk = new Gitalk({
          clientID: 'bea650d554c3d4b1ed47',
          clientSecret: 'fd5c4c6ecdf602f00dcc6a593ed1b51dbf6d0cc1',
          repo: 'justsweetpotato.github.io',
          owner: 'justsweetpotato',
          admin: ['justsweetpotato'],
          id: location.pathname,
          labels: ['Gitalk'],
          perPage: 15,
          pagerDirection: 'last',
          createIssueManually: true,
          distractionFreeMode: false
        })
        gitalk.render('gitalk-container')           
       </script>

  





  

  

  

  
  

  

  

  

</body>
</html>
